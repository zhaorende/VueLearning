<template>
	<div>
		<el-row>
			<student-list-info style="float: left" @confirm="onConfirm" :student="this.student" :visible.sync="display"></student-list-info>
		</el-row>
		<hr>
		<h3>学员列表</h3>
		<el-table :data="tableData" @row-click="onRowClick" border stripe style="width: 100%">
			<el-table-column prop="name" label="姓名" width="180">
			</el-table-column>
			<el-table-column prop="sex" label="性别" width="180">
			</el-table-column>
			<el-table-column prop="age" label="年龄">
			</el-table-column>
		</el-table>
	</div>
</template>

<script>
	import studentListInfo from './student-list-info'

	export default {
		name: 'student-list',
		// 组件
		components: {
			studentListInfo
		},
		data() {
			return {
				tableData: [{
						name: '张楚岚',
						sex: '男',
						age: '23'
					},
					{
						name: '冯宝宝',
						sex: '女',
						age: '99'
					},
					{
						name: '赵方旭',
						sex: '男',
						age: '59'
					},
					{
						name: '肖自在',
						sex: '男',
						age: '36'
					}
				],
				student: {
					name: '',
					sex: '',
					age: 0
				},
				display: false /* 新增 */
			}
		},

		// 方法集
		methods: {
			// 确认事件
			onConfirm(item) {
				this.tableData.push(item)
			},
			// 点击行事件
			onRowClick(row) {
				this.display = true
				this.student = {
					name: row.name,
					sex: row.sex,
					age: row.age
				}
			}
		}
	}
</script>

<style scoped>

</style>
